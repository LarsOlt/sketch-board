(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2852)}])},2852:function(e,n,t){"use strict";t.r(n),t.d(n,{canvasSettings:function(){return T},canvasStorage:function(){return E},default:function(){return L}});var r=t(5893),o=t(9008),a=t(8413),i=t.n(a),u=t(7294),l=t(4051),c=t.n(l);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n,t,r,o,a,i){try{var u=e[a](i),l=u.value}catch(c){return void t(c)}u.done?n(l):Promise.resolve(l).then(r,o)}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(l){u=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(u)throw o}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(){var e,n=(e=c().mark((function e(n,t){var r,o,a,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=26;break}(o=t[r]).lines.shift(),a=0;case 5:if(!(a<o.lines.length)){e.next=23;break}if(i=o.lines[a]||o.lines[a],n.beginPath(),n.strokeStyle=o.canvasSettings.drawingColor,n.moveTo(i.x,i.y),(u=o.lines[a+1])&&(i=u),n.lineTo(i.x,i.y),n.stroke(),!E.lastCanvasClear){e.next=18;break}if(!(Date.now()-Date.parse(E.lastCanvasClear)<100)){e.next=18;break}return p(n),e.abrupt("return");case 18:return e.next=20,new Promise((function(e){return setTimeout(e,T.replaySpeed)}));case 20:a++,e.next=5;break;case 23:r++,e.next=1;break;case 26:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){f(a,r,o,i,u,"next",e)}function u(e){f(a,r,o,i,u,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),p=function(e){null===e||void 0===e||e.clearRect(0,0,e.canvas.width,e.canvas.height),E.lastCanvasClear=(new Date).toISOString()},y=u.createContext(null),b=function(e){var n=e.children,t=d(u.useState(),2),o=t[0],a=t[1],i=u.useMemo((function(){return{clearCanvas:function(){return p(o)},setCtx:function(e){return a(e)},replayDrawnLines:function(){return v(o,E.drawnLines)}}}),[o]);return(0,r.jsx)(y.Provider,{value:i,children:n})},h=t(713);function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){g(e,n,t[n])}))}return e}function w(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var x=function(e){var n=e.labelText,t=w(e,["labelText"]);return(0,r.jsxs)("label",{style:{display:"flex",flexDirection:"column",color:"white"},children:[n,(0,r.jsx)("input",m({},t))]})},C=function(e){var n=(0,u.useContext)(y),t=n.clearCanvas,o=n.replayDrawnLines;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:i().Toolbar,children:[(0,r.jsx)("button",{onClick:function(){return t()},children:"Clear Canvas"}),(0,r.jsx)("button",{onClick:function(){return o()},children:"Replay Drawing"}),(0,r.jsx)("button",{onClick:function(){E.drawnLines=[]},children:"Clear Drawing Replay"}),(0,r.jsx)(x,{labelText:"Replay Speed",type:"range",min:1,max:10,step:1,defaultValue:T.replaySpeed,onChange:function(e){T.replaySpeed=parseInt(e.target.value)}}),(0,r.jsx)(x,{labelText:"Size",type:"range",min:1,max:20,step:1,defaultValue:T.drawingSize,onChange:function(e){T.drawingSize=parseInt(e.target.value)}})]}),(0,r.jsx)("div",{className:i().Colorpicker,children:(0,r.jsx)(h.iY,{onChange:function(e){T.drawingColor=e.hex}})})]})},j=function(e){var n=document.querySelector("body");switch(e){case"drawing":n.style.cursor="url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'  \n      width='40' \n      height='48' \n      viewport='0 0 100 100'\n      style='fill:black'></svg>\") 5 35 auto";break;case"normal":n.style.cursor="default"}};function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}var k=function(){var e=(0,u.useContext)(y),n=u.useRef(null),t=function(){n.current&&(n.current.width=document.body.clientWidth,n.current.height=document.body.clientHeight)};return(0,u.useEffect)((function(){var r=n.current.getContext("2d");return e.setCtx(r),function(e){var n={x:0,y:0},t=e.canvas,r=[],o=function(t){e.beginPath(),e.lineWidth=T.drawingSize,e.lineCap="round",e.lineJoin="round",e.strokeStyle=T.drawingColor,e.moveTo(n.x,n.y),a(t),e.lineTo(n.x,n.y),e.stroke()},a=function(e){r[r.length-1].lines.push(O({},n)),n.x=e.clientX-t.offsetLeft,n.y=e.clientY-t.offsetTop},i=function(e){j("drawing"),r.push({lines:[],canvasSettings:O({},T)}),document.addEventListener("mousemove",o),a(e)},u=function(e){j("normal"),document.removeEventListener("mousemove",o),E.drawnLines=r};document.addEventListener("mousedown",i),document.addEventListener("mouseup",u)}(r),t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e]),(0,r.jsx)("canvas",{ref:n,style:{backgroundColor:"#0D131B"}})},_=t(1673),P=t.n(_),T={drawingColor:"yellow",drawingSize:1,replaySpeed:1},E={drawnLines:[],lastCanvasClear:null},L=function(){return(0,r.jsxs)("div",{className:P().Home,children:[(0,r.jsx)(o.default,{children:(0,r.jsx)("title",{children:"Sketch Board"})}),(0,r.jsxs)(b,{children:[(0,r.jsx)(k,{}),(0,r.jsx)(C,{})]})]})}},1673:function(e){e.exports={Home:"Home_Home__Jnie5"}},8413:function(e){e.exports={Toolbar:"Toolbar_Toolbar___M4px",Colorpicker:"Toolbar_Colorpicker__LhlEJ"}}},function(e){e.O(0,[275,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);